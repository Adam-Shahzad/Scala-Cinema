@(message: String, paymentForm: Form[Payment], totalPrice: Int)(implicit messages: Messages, request: Request[AnyContent])

@main("Payment") {

<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Bare - Start Bootstrap Template</title>

    <!-- Bootstrap core CSS -->
    <link href="@routes.Assets.at("templates/Bare/vendor/bootstrap/css/bootstrap.min.css")" rel="stylesheet">

    <!-- Custom styles for this template -->
    <style>
      body {
        padding-top: 54px;
      }
      media (min-width: 992px) {
        body {
          padding-top: 56px;
        }
      }

    </style>

  </head>

  <body>

    <!-- Navigation -->


    <!-- Page Content -->
    <div class="container">
      <div class="row">
        <div class="col-lg-12 text-center">
          <h1 class="mt-5 titleFormatting">Payment Form</h1>

            <div style="text-align: left; padding-left: 5rem; margin-bottom: 3rem; background-color: rgba(0,0,0,0.5);
                width: 50%; padding: 3rem; align-content: center;">
            <h2>@message</h2>
            @helper.form(routes.Application.processPaymentForm(totalPrice)) {
                @helper.inputText(paymentForm("name"), '_label -> "Full Card Holder Name", '_showConstraints -> false)
                @helper.inputText(paymentForm("number"), '_label -> "Card Number", '_showConstraints -> false)
                @helper.inputText(paymentForm("expiry"), '_label -> "Expiry (MM/YY)", '_showConstraints -> false)
                @helper.inputText(paymentForm("csv"), '_label -> "CSV", '_showConstraints -> false)

                <button class="btn btn-primary" style="width:80%;margin-left:12%;margin-right:8%;color: white; background-color: rgba(0,0,0,0.7);margin-top:20px; margin-bottom:20px" type="submit" name="action" value="pay">Make Payment</button>
                <p>
                    <button class="btn btn-primary" style="width:80%;margin-left:12%;margin-right:8%;color: white; background-color: rgba(0,0,0,0.7);margin-top:20px; margin-bottom:20px" type="submit" name="action" value="empty">Empty Basket</button>
                </p>
            }


              @if(totalPrice!=0) {
                  <table>
                      <thead>
                          <tr><th>Order Summary</th></tr>
                      </thead>
                      <tbody>
                          <tr><td>Movie Time</td>
                              <td>@request.session.get("time").getOrElse("TBD")</td></tr>
                          @if(!(request.session.get("adult").getOrElse(0) == "0")) {
                              <tr><td>Adult Tickets </td>
                                  <td>@request.session.get("adult").getOrElse("none") x £11.00 </td></tr>
                          }
                          @if(!(request.session.get("child").getOrElse("none") == "0")) {
                              <tr><td>Child Tickets </td>
                                  <td>@request.session.get("child").getOrElse(0) x £6.00</td></tr>
                          }
                          @if(!(request.session.get("concession").getOrElse(0) == "0")) {
                              <tr><td>Concession Tickets </td>
                                  <td>@request.session.get("concession").getOrElse(0) x £7.00</td></tr>
                          }
                      </tbody>
                  </table>
              }
              <li>Total Price: £@totalPrice.00</li>
          </div>
      </div>
    </div>
    </div>
    <!-- Bootstrap core JavaScript -->
    <script src="@routes.Assets.at("templates/Bare/vendor/jquery/jquery.min.js")"></script>
    <script src="@routes.Assets.at("templates/Bare/vendor/bootstrap/js/bootstrap.bundle.min.js")"></script>

  </body>

</html>
}
